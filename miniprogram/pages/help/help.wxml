<!--help.wxml-->
<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <input 
      class="search-input" 
      placeholder="æœç´¢å¸®åŠ©å†…å®¹..." 
      value="{{searchText}}"
      bindinput="onSearchInput"
      confirm-type="search"
      bindconfirm="onSearchConfirm"
    />
    <view class="search-icon">ğŸ”</view>
    <view wx:if="{{searchText}}" class="clear-icon" bindtap="onClearSearch">âœ•</view>
  </view>

  <!-- å¸®åŠ©å†…å®¹ -->
  <view class="help-content">
    <view 
      wx:for="{{filteredSections}}" 
      wx:key="id"
      class="help-section"
    >
      <!-- åˆ†ç±»æ ‡é¢˜ -->
      <view class="section-header">
        <view class="section-icon">{{item.icon}}</view>
        <text class="section-title">{{item.title}}</text>
        <view class="section-count">{{item.items.length}}é¡¹</view>
      </view>

      <!-- å¸®åŠ©é¡¹åˆ—è¡¨ -->
      <view class="help-items">
        <view 
          wx:for="{{item.items}}" 
          wx:for-item="helpItem"
          wx:key="id"
          class="help-item"
          bindtap="onHelpItemTap"
          data-section-id="{{item.id}}"
          data-item-id="{{helpItem.id}}"
        >
          <!-- é—®é¢˜ -->
          <view class="question">
            <text class="question-text">{{helpItem.question}}</text>
            <view class="question-arrow">â–¶</view>
          </view>

          <!-- ç­”æ¡ˆ -->
          <view class="answer">
            <text class="answer-text">{{helpItem.answer}}</text>
            
            <!-- æ­¥éª¤åˆ—è¡¨ -->
            <view wx:if="{{helpItem.type === 'steps' && helpItem.steps}}" class="steps-list">
              <view 
                wx:for="{{helpItem.steps}}" 
                wx:for-item="step"
                wx:key="*this"
                class="step-item"
              >
                <view class="step-number">{{index + 1}}</view>
                <text class="step-text">{{step}}</text>
              </view>
            </view>

            <!-- æç¤ºåˆ—è¡¨ -->
            <view wx:if="{{helpItem.type === 'tips' && helpItem.tips}}" class="tips-list">
              <view 
                wx:for="{{helpItem.tips}}" 
                wx:for-item="tip"
                wx:key="*this"
                class="tip-item"
              >
                <view class="tip-bullet">â€¢</view>
                <text class="tip-text">{{tip}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- è”ç³»æˆ‘ä»¬ -->
  <view class="contact-section">
    <view class="section-header">
      <view class="section-icon">ğŸ“</view>
      <text class="section-title">è”ç³»æˆ‘ä»¬</text>
    </view>
    
    <view class="contact-list">
      <view 
        wx:for="{{contactInfo}}" 
        wx:key="type"
        class="contact-item"
        bindtap="onContactTap"
        data-contact="{{item}}"
      >
        <view class="contact-icon">{{item.icon}}</view>
        <view class="contact-info">
          <text class="contact-label">{{item.label}}</text>
          <text class="contact-value">{{item.value}}</text>
        </view>
        <view class="contact-arrow">â–¶</view>
      </view>
    </view>
  </view>

  <!-- åº”ç”¨ä¿¡æ¯ -->
  <view class="app-info">
    <text class="app-version">ç‰ˆæœ¬ {{appInfo.version}}</text>
    <text class="update-time">æ›´æ–°æ—¶é—´ï¼š{{appInfo.updateTime}}</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{filteredSections.length === 0 && searchText}}" class="empty-state">
    <view class="empty-icon">ğŸ”</view>
    <text class="empty-text">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å†…å®¹</text>
    <text class="empty-desc">å°è¯•ä½¿ç”¨å…¶ä»–å…³é”®è¯æœç´¢</text>
  </view>
</view> 