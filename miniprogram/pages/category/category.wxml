<!--category.wxml-->
<view class="category-container">
  <!-- å›ºå®šé¡¶éƒ¨æ ‡é¢˜æ  -->
  <!-- <view class="category-header">
    <view class="header-content">
      <text class="header-title">å·¥å…·åˆ†ç±»</text>
      <view class="header-stats">
        <text class="stats-text">{{totalCategories}}ä¸ªåˆ†ç±» Â· {{totalTools}}ä¸ªå·¥å…·</text>
      </view>
    </view>
  </view> -->

  <!-- æœç´¢æ  -->
  <view class="search-section">
    <view class="search-bar">
      <view class="search-icon">ğŸ”</view>
      <input 
        class="search-input" 
        placeholder="æœç´¢å·¥å…·åˆ†ç±»..." 
        value="{{searchText}}"
        bindinput="onSearchInput"
        confirm-type="search"
        bindconfirm="onSearchConfirm"
      />
      <view wx:if="{{searchText}}" class="clear-btn" bindtap="onClearSearch">âœ•</view>
    </view>
  </view>

  <!-- åˆ†ç±»ç½‘æ ¼ -->
  <view class="category-grid">
    <view 
      wx:for="{{filteredCategories}}" 
      wx:key="id"
      class="category-card {{item.toolCount === 0 ? 'disabled' : ''}}"
      bindtap="onCategoryTap"
      data-category="{{item}}"
    >
      <!-- å¡ç‰‡é¡¶éƒ¨è£…é¥°æ¡ -->
      <view class="card-decoration"></view>
      
      <!-- å¡ç‰‡ä¸»è¦å†…å®¹ -->
      <view class="card-content">
        <view class="category-icon-wrapper">
          <view class="category-icon">{{item.icon}}</view>
          <view wx:if="{{item.toolCount > 0}}" class="tool-count-badge">{{item.toolCount}}</view>
        </view>
        
        <view class="category-info">
          <text class="category-name">{{item.name}}</text>
          <text class="category-desc">{{item.description}}</text>
        </view>
        
        <view class="category-arrow">
          <text class="arrow-icon">{{item.toolCount > 0 ? 'â†’' : 'âš ï¸'}}</text>
        </view>
      </view>
      
      <!-- å·¥å…·é¢„è§ˆæ  -->
      <view wx:if="{{item.tools.length > 0}}" class="tools-preview-bar">
        <view 
          wx:for="{{item.tools}}" 
          wx:for-item="tool"
          wx:key="id"
          wx:if="{{index < 3}}"
          class="tool-preview-chip"
          bindtap="onToolTap"
          data-tool="{{tool}}"
        >
          <text class="tool-chip-icon">{{tool.icon}}</text>
          <text class="tool-chip-name">{{tool.name}}</text>
        </view>
        <view wx:if="{{item.tools.length > 3}}" class="more-tools-indicator">
          <text>+{{item.tools.length - 3}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{filteredCategories.length === 0}}" class="empty-state">
    <view class="empty-illustration">
      <view class="empty-icon">ğŸ”</view>
      <view class="empty-circles">
        <view class="circle circle-1"></view>
        <view class="circle circle-2"></view>
        <view class="circle circle-3"></view>
      </view>
    </view>
    <text class="empty-title">æœªæ‰¾åˆ°ç›¸å…³åˆ†ç±»</text>
    <text class="empty-desc">è¯•è¯•å…¶ä»–å…³é”®è¯ï¼Œæˆ–æµè§ˆæ‰€æœ‰åˆ†ç±»</text>
    <view class="empty-action" bindtap="onClearSearch">
      <text>æŸ¥çœ‹å…¨éƒ¨åˆ†ç±»</text>
    </view>
  </view>
</view> 