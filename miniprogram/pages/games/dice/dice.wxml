<!--3DÂ§öÈ™∞Â≠êÊ∏∏ÊàèÈ°µÈù¢-->
<view class="dice-container">
  
  <!-- È°∂ÈÉ®ÂØºËà™Âå∫Âüü -->
  <view class="title-area">
    <text class="game-title">üé≤ 3DÂ§öÈ™∞Â≠êÊ∏∏Êàè</text>
    <text class="game-subtitle">ËÆæÁΩÆÈ™∞Â≠êÊï∞ÈáèÂπ∂ÂºÄÂßãÊëáÈ™∞</text>
  </view>

  <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
  <view class="main-content">
    
    <!-- È™∞Â≠êÊï∞ÈáèËÆæÁΩÆÂå∫Âüü -->
    <view class="dice-count-area">
      <view class="count-label">È™∞Â≠êÊï∞Èáè</view>
      <view class="count-controls">
        <button class="count-btn" bindtap="adjustDiceCount" data-type="decrease" disabled="{{diceCount <= 1}}">-</button>
        <input class="count-input" type="number" value="{{diceCount}}" bindinput="setDiceCount" maxlength="2" />
        <button class="count-btn" bindtap="adjustDiceCount" data-type="increase" disabled="{{diceCount >= 10}}">+</button>
      </view>
    </view>

    <!-- È™∞Â≠êÊòæÁ§∫Âå∫Âüü -->
    <view class="dice-area">
      <view class="dice-grid">
        <view wx:for="{{diceResults}}" wx:key="id" class="dice-wrapper">
          <view class="dice-cube {{item.isRolling ? 'rolling' : ''}}" data-id="{{item.id}}">
            <!-- È™∞Â≠êÁöÑÂÖ≠‰∏™Èù¢ -->
            <view class="dice-face front">
              <view class="dots dots-{{item.value}}">
                <view wx:if="{{item.value >= 1}}" class="dot dot-1"></view>
                <view wx:if="{{item.value >= 2}}" class="dot dot-2"></view>
                <view wx:if="{{item.value >= 3}}" class="dot dot-3"></view>
                <view wx:if="{{item.value >= 4}}" class="dot dot-4"></view>
                <view wx:if="{{item.value >= 5}}" class="dot dot-5"></view>
                <view wx:if="{{item.value === 6}}" class="dot dot-6"></view>
              </view>
            </view>
            <view class="dice-face back">
              <view class="dots dots-{{7 - item.value}}">
                <view wx:if="{{7 - item.value >= 1}}" class="dot dot-1"></view>
                <view wx:if="{{7 - item.value >= 2}}" class="dot dot-2"></view>
                <view wx:if="{{7 - item.value >= 3}}" class="dot dot-3"></view>
                <view wx:if="{{7 - item.value >= 4}}" class="dot dot-4"></view>
                <view wx:if="{{7 - item.value >= 5}}" class="dot dot-5"></view>
                <view wx:if="{{7 - item.value === 6}}" class="dot dot-6"></view>
              </view>
            </view>
            <view class="dice-face right">
              <view class="dots dots-{{item.value > 3 ? item.value - 3 : item.value + 3}}">
                <view wx:if="{{(item.value > 3 ? item.value - 3 : item.value + 3) >= 1}}" class="dot dot-1"></view>
                <view wx:if="{{(item.value > 3 ? item.value - 3 : item.value + 3) >= 2}}" class="dot dot-2"></view>
                <view wx:if="{{(item.value > 3 ? item.value - 3 : item.value + 3) >= 3}}" class="dot dot-3"></view>
                <view wx:if="{{(item.value > 3 ? item.value - 3 : item.value + 3) >= 4}}" class="dot dot-4"></view>
                <view wx:if="{{(item.value > 3 ? item.value - 3 : item.value + 3) >= 5}}" class="dot dot-5"></view>
                <view wx:if="{{(item.value > 3 ? item.value - 3 : item.value + 3) === 6}}" class="dot dot-6"></view>
              </view>
            </view>
            <view class="dice-face left">
              <view class="dots dots-{{item.value > 3 ? 7 - (item.value - 3) : 7 - (item.value + 3)}}">
                <view wx:if="{{(item.value > 3 ? 7 - (item.value - 3) : 7 - (item.value + 3)) >= 1}}" class="dot dot-1"></view>
                <view wx:if="{{(item.value > 3 ? 7 - (item.value - 3) : 7 - (item.value + 3)) >= 2}}" class="dot dot-2"></view>
                <view wx:if="{{(item.value > 3 ? 7 - (item.value - 3) : 7 - (item.value + 3)) >= 3}}" class="dot dot-3"></view>
                <view wx:if="{{(item.value > 3 ? 7 - (item.value - 3) : 7 - (item.value + 3)) >= 4}}" class="dot dot-4"></view>
                <view wx:if="{{(item.value > 3 ? 7 - (item.value - 3) : 7 - (item.value + 3)) >= 5}}" class="dot dot-5"></view>
                <view wx:if="{{(item.value > 3 ? 7 - (item.value - 3) : 7 - (item.value + 3)) === 6}}" class="dot dot-6"></view>
              </view>
            </view>
            <view class="dice-face top">
              <view class="dots dots-{{item.value === 1 ? 2 : item.value === 2 ? 1 : item.value === 3 ? 5 : item.value === 4 ? 6 : item.value === 5 ? 3 : 4}}">
                <view wx:if="{{(item.value === 1 ? 2 : item.value === 2 ? 1 : item.value === 3 ? 5 : item.value === 4 ? 6 : item.value === 5 ? 3 : 4) >= 1}}" class="dot dot-1"></view>
                <view wx:if="{{(item.value === 1 ? 2 : item.value === 2 ? 1 : item.value === 3 ? 5 : item.value === 4 ? 6 : item.value === 5 ? 3 : 4) >= 2}}" class="dot dot-2"></view>
                <view wx:if="{{(item.value === 1 ? 2 : item.value === 2 ? 1 : item.value === 3 ? 5 : item.value === 4 ? 6 : item.value === 5 ? 3 : 4) >= 3}}" class="dot dot-3"></view>
                <view wx:if="{{(item.value === 1 ? 2 : item.value === 2 ? 1 : item.value === 3 ? 5 : item.value === 4 ? 6 : item.value === 5 ? 3 : 4) >= 4}}" class="dot dot-4"></view>
                <view wx:if="{{(item.value === 1 ? 2 : item.value === 2 ? 1 : item.value === 3 ? 5 : item.value === 4 ? 6 : item.value === 5 ? 3 : 4) >= 5}}" class="dot dot-5"></view>
                <view wx:if="{{(item.value === 1 ? 2 : item.value === 2 ? 1 : item.value === 3 ? 5 : item.value === 4 ? 6 : item.value === 5 ? 3 : 4) === 6}}" class="dot dot-6"></view>
              </view>
            </view>
            <view class="dice-face bottom">
              <view class="dots dots-{{item.value === 1 ? 5 : item.value === 2 ? 6 : item.value === 3 ? 2 : item.value === 4 ? 1 : item.value === 5 ? 4 : 3}}">
                <view wx:if="{{(item.value === 1 ? 5 : item.value === 2 ? 6 : item.value === 3 ? 2 : item.value === 4 ? 1 : item.value === 5 ? 4 : 3) >= 1}}" class="dot dot-1"></view>
                <view wx:if="{{(item.value === 1 ? 5 : item.value === 2 ? 6 : item.value === 3 ? 2 : item.value === 4 ? 1 : item.value === 5 ? 4 : 3) >= 2}}" class="dot dot-2"></view>
                <view wx:if="{{(item.value === 1 ? 5 : item.value === 2 ? 6 : item.value === 3 ? 2 : item.value === 4 ? 1 : item.value === 5 ? 4 : 3) >= 3}}" class="dot dot-3"></view>
                <view wx:if="{{(item.value === 1 ? 5 : item.value === 2 ? 6 : item.value === 3 ? 2 : item.value === 4 ? 1 : item.value === 5 ? 4 : 3) >= 4}}" class="dot dot-4"></view>
                <view wx:if="{{(item.value === 1 ? 5 : item.value === 2 ? 6 : item.value === 3 ? 2 : item.value === 4 ? 1 : item.value === 5 ? 4 : 3) >= 5}}" class="dot dot-5"></view>
                <view wx:if="{{(item.value === 1 ? 5 : item.value === 2 ? 6 : item.value === 3 ? 2 : item.value === 4 ? 1 : item.value === 5 ? 4 : 3) === 6}}" class="dot dot-6"></view>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- ÊëáÈ™∞Â≠êÊåâÈíÆ -->
    <view class="action-area">
      <button class="roll-btn {{isRolling ? 'rolling' : ''}}" bindtap="rollDice" disabled="{{isRolling}}">
        <text class="roll-text">{{isRolling ? 'ÊëáÈ™∞‰∏≠...' : 'ÊëáÈ™∞Â≠ê'}}</text>
      </button>
    </view>

    <!-- ÁªìÊûúÊòæÁ§∫ -->
    <view class="result-area">
      <view class="game-stats">
        <text class="roll-count">Â∑≤Êëá {{rollCount}} Ê¨°</text>
        <button class="reset-btn" bindtap="resetGame">ÈáçÁΩÆ</button>
      </view>
    </view>
    
  </view>

</view> 